<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="./css/normalize.css" />
    <link rel="stylesheet" href="./css/common.css" />
    <link rel="stylesheet" href="./css/main.css" />
    <link rel="stylesheet" href="./front/iconfont/iconfont.css" />
    <link rel="stylesheet" href="./css/swiper/css/swiper.min.css" />
    <title>郎朗口腔</title>
  </head>

  <body>
    <!-- 头部start -->
    <div id="header"></div>
    <!-- 头部end -->
    <!-- 幻灯片区域start -->
    <div id="slide-wrap">
      <div class="slide-content">
        <ul class="clearfix">
          <li>
            <img src="./images/img.jpg" alt="朗朗口腔" width="100%" />
          </li>
          <li>
            <img src="./images/img.jpg" alt="朗朗口腔" width="100%" />
          </li>
          <li>
            <img src="./images/img.jpg" alt="朗朗口腔" width="100%" />
          </li>
        </ul>
      </div>
      <ul class="slide-nav">
        <a href="javascript:void(0);" class="current"></a>
        <a href="javascript:void(0);"></a>
        <a href="javascript:void(0);"></a>
      </ul>
      <span class="slide-prev"><i class="iconfont icon-jiantou-copy"></i></span>
      <span class="slide-next"><i class="iconfont icon-jiantou"></i></span>
    </div>
    <!-- 幻灯片区域end -->
    <!-- 内容区 -->
    <div class="container">
      <!-- 郎朗口腔start -->
      <section>
        <header>
          <div class="main-column padding-top-90 padding-bottom-70">
            <h3>郎朗口腔</h3>
            <p>
              呵护牙齿健康 创造美好未来<span></span>CARE FOR TEETH TO CREATE A
              BETTER FUTURE
            </p>
          </div>
        </header>
        <div class="info-list">
          <div id="infoListWrap"></div>
          <a href="javascript:;" class="more-link">查看更多</a>
        </div>
      </section>

      <!-- 郎朗口腔end -->

      <!-- 郎朗公益start -->
      <section class="welfare">
        <header>
          <div class="main-column padding-top-53 padding-bottom-53">
            <h3>郎朗公益</h3>
            <p>
              呵护牙齿健康 创造美好未来<span></span>CARE FOR TEETH TO CREATE A
              BETTER FUTURe
            </p>
          </div>
        </header>
        <div class="welfare-wrap" id="welfareWrap"></div>
      </section>
      <!-- 郎朗公益end -->
    </div>
    <!-- 医生模块start -->
    <section class="doctor">
      <header class="hide">
        <div>
          <h3>郎朗公益</h3>
          <p>
            呵护牙齿健康 创造美好未来<span></span>CARE FOR TEETH TO CREATE A
            BETTER FUTURe
          </p>
        </div>
      </header>
      <div class="container">
        <!-- Swiper -->
        <div class="swiper-container">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <div class="doctor-slide-item clearfixv doctor-info">
                <div class="img">
                  <span class="name">方晓珍</span>
                  <img src="images/pic005.jpg" alt="方晓珍" />
                </div>
                <div class="content">
                  <h4 class="title">牙周主诊医师</h4>
                  <span class="txt"
                    >擅长：仿真陶瓷牙修复、牙周系统治疗、残根残冠的保存治疗等。</span
                  >
                  <i class="line"></i>
                  <p class="dec">
                    国内知名大学口腔医学学士，曾就职于高端私人齿科工作室，从事口腔事业10余年，对口腔各类常见疾病的临床治疗积累了丰富经验。积极学习新技术的临床应用，不断进修提升，精通牙体保存治疗。数次参加北京医科大学牙周学习研究项目、香港大学牙周学习研究项目。技术上追求完美，坚持
                    “微创无痛治疗” 原则，深受患者的信赖！
                  </p>
                  <a href="" class="link-more"
                    >查看更多<i class="iconfont icon-jiantou1"></i
                  ></a>
                </div>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="doctor-slide-item clearfixv doctor-info">
                <div class="img">
                  <span class="name">方晓珍</span>
                  <img src="images/pic005.jpg" alt="方晓珍" />
                </div>
                <div class="content">
                  <h4 class="title">牙周主诊医师</h4>
                  <span class="txt"
                    >擅长：仿真陶瓷牙修复、牙周系统治疗、残根残冠的保存治疗等。</span
                  >
                  <i class="line"></i>
                  <p class="dec">
                    国内知名大学口腔医学学士，曾就职于高端私人齿科工作室，从事口腔事业10余年，对口腔各类常见疾病的临床治疗积累了丰富经验。积极学习新技术的临床应用，不断进修提升，精通牙体保存治疗。数次参加北京医科大学牙周学习研究项目、香港大学牙周学习研究项目。技术上追求完美，坚持
                    “微创无痛治疗” 原则，深受患者的信赖！
                  </p>
                  <a href="" class="link-more"
                    >查看更多<i class="iconfont icon-jiantou1"></i
                  ></a>
                </div>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="doctor-slide-item clearfixv doctor-info">
                <div class="img">
                  <span class="name">方晓珍</span>
                  <img src="images/pic005.jpg" alt="方晓珍" />
                </div>
                <div class="content">
                  <h4 class="title">牙周主诊医师</h4>
                  <span class="txt"
                    >擅长：仿真陶瓷牙修复、牙周系统治疗、残根残冠的保存治疗等。</span
                  >
                  <i class="line"></i>
                  <p class="dec">
                    国内知名大学口腔医学学士，曾就职于高端私人齿科工作室，从事口腔事业10余年，对口腔各类常见疾病的临床治疗积累了丰富经验。积极学习新技术的临床应用，不断进修提升，精通牙体保存治疗。数次参加北京医科大学牙周学习研究项目、香港大学牙周学习研究项目。技术上追求完美，坚持
                    “微创无痛治疗” 原则，深受患者的信赖！
                  </p>
                  <a href="" class="link-more"
                    >查看更多<i class="iconfont icon-jiantou1"></i
                  ></a>
                </div>
              </div>
            </div>
          </div>
          <!-- Add Arrows -->
          <!-- <div class="swiper-button-next"></div>
              <div class="swiper-button-prev"></div> -->
        </div>
        <!-- Add Pagination -->
        <div class="p-r">
          <div class="swiper-pagination swiper-pagination-doctor"></div>
        </div>
      </div>
    </section>
    <!-- 医生模块end -->
    <!-- 资讯动态start -->
    <div class="container">
      <section>
        <header>
          <div class="main-column padding-top-90 padding-bottom-40">
            <h3>资讯动态</h3>
            <p>
              呵护牙齿健康 创造美好未来<span></span>CARE FOR TEETH TO CREATE A
              BETTER FUTURe
            </p>
          </div>
        </header>
        <ul class="tab-menu">
          <!-- <a href="JavaScript:void();" class="current" title="行业动态">行业动态</a><a href="JavaScript:void();"  title="郎朗资讯">郎朗资讯</a><a href="JavaScript:void();"  title="媒体报道">媒体报道</a><a href="JavaScript:void();"  title="公益活动">公益活动</a> -->
        </ul>
        <div
          class="news-wrap row-container gutter-15 padding-top-73 padding-bottom-102"
        >
          <div class="row-wrap">
            <div class="box"></div>
            <div class="box"></div>
            <div class="box"></div>
            <div class="box"></div>
          </div>
        </div>
      </section>
    </div>
    <!-- 咨询动态end -->
    <!-- 页脚 -->
    <div id="footer"></div>
    <script src="./js/jquery.min.js"></script>
    <script src="./js/mock.js"></script>
    <script src="./js/data.js"></script>
    <script src="./js/swiper/js/swiper.min.js"></script>
    <script src="./js/common.js"></script>
    <script src="./js/banner.js"></script>
    <script src="js/docswiper.js"></script>
    <!-- <script src="js/indextNewsAjax.js"></script> -->
    <script>
      $("#header").load("header.html");
      $("#footer").load("footer.html");
      loadingMsg({
        wrap: "infoListWrap",
        msg: "加载中",
      });
      $.ajax({
        url: "http://localhost/api/index",
        dataType: "json",
        async: false,
        cache: false,
        data: {
          categoryId: 123456,
        },
        type: "POST",
        beforeSend: function () {},
        success: function (req) {
          console.log("index.html->241:\t", req);
          let infoListWrap = document.getElementById("infoListWrap");
          if (!req.data || req.data.length === 0) {
            loadingMsg({
              wrap: "infoListWrap",
              msg: "当前没有数据",
            });
            return false;
          }
          let ul = '<ul class="clearfix">';
          let n = req.data.length;
          console.log(n);
          req.data.forEach((item) => {
            let img = item.imgUrl;
            let title = item.title;
            let dec = item.dec;
            ul += `<figure>
                <a href="./data/newsDetail.php?id=${item.id}">
                <img src="${img}" alt="${title}">
                <figcaption>${title}</figcaption>
                <p>${dec}</p>
                </a>
              </figure>`;
          });
          ul += "</ul>";

          infoListWrap.innerHTML = ul;
        },
        complete: function () {},
        error: function () {},
      });
      $.ajax({
        url: "http://localhost/api/index1",
        dataType: "json",
        async: true,
        cache: false,
        data: {
          module: "welfare",
          categoryId: 10000,
        },
        type: "POST",
        beforeSend: function () {},
        success: function (req) {
          console.log("index.html->274:\t", req);
          let welfare = document.getElementById("welfareWrap");
          let data = req.data;
          let html = "";
          html += `
          <div class="row">
            <div class="content-flex">
              <div class="content-flex-big">
                <img src="${data[0].imgUrl}" alt="${data[0].title}">
              </div>
              <div class="content-flex-small" style="background-color:#${data[0].bgColor}">
                <div class="content-dec">
                  <h4 class="title">${data[0].title}</h4>
                  <time datetime="${data[0].date}" public="${data[0].date}">${data[0].date}</time>
                  <i class="line"></i>
                  <a href="" class="link-more">查看更多<i class="iconfont icon-jiantou1"></i></a>
                </div>
              </div>
            </div>
          </div>
          `;
          data.forEach((item, index) => {
            if (index != 0) {
              html += `
            <div class="row">
              <div class="content-flex">
                <div class="content-flex-big ${item.color}" style="background-color:#${item.bgColor}">
                  <div class="content-dec">
                    <h4 class="title">${item.title}</h4>
                    <time datetime="${item.date}" public="${item.date} 12:00:00">${item.date}</time>
                    <i class="line"></i>
                    <p>${item.dec}</p>
                    <a href="" class="link-more">查看更多<i class="iconfont icon-jiantou1"></i></a>
                  </div>
                </div>
                <div class="content-flex-small">
                  <img src="${item.imgUrl}" alt="${item.title}">
                </div>
              </div>
            </div>
          `;
            }
          });
          welfare.innerHTML = html;
        },
        complete: function () {},
        error: function () {},
      });
      $.ajax({
        url: "http://localhost/api/newsCategory",
        dataType: "json",
        async: false,
        cache: false,
        data: JSON.stringify({
          module: "news",
        }),
        headers: {
          "Content-Type": "application/json; charset=urf-8",
        },
        type: "POST",
        beforeSend: function () {},
        success: function (req) {
          console.log('index.html->336:\t',req)
          let tabMenu = document.querySelector(".tab-menu");
          console.log(tabMenu);
          let menuHtml = "";
          req.data.forEach((item, index) => {
            let className = index == 0 ? "current" : "";
            menuHtml += `<a data-request="false" href="javascript:void(0);" onclick="loadNewsData({_this:this,id : ${item.id},idx : ${index}});" class="${className}" title="${item.categoryName}">${item.categoryName}</a>`;
          });
          tabMenu.innerHTML = menuHtml;
          let _this = tabMenu.children[0];
          loadNewsData({ _this: _this, id: req.data[0].id, idx: 0 });
        },
        complete: function () {},
        error: function () {},
      });

      function loadNewsData() {
        /* 获取tab按钮是否点击的状态，若已经点击过代表已经获取到了数据，就不再请求ajax */
        let _this = arguments[0]._this; //获取tab对象
        let isRequest = _this.getAttribute("data-request"); //获取tab上的自定义属性
        let boxs = document.querySelectorAll(".news-wrap .box"); //获取所有内容容器
        let idx = arguments[0].idx; //当前点击的是哪个标签
        let menus = document.querySelectorAll(".tab-menu>a"); //获取所有的tab
        menus.forEach((item) => {
          item.className = "";
        });
        menus[idx].className = "current";
        menus[idx].setAttribute("data-request", true);
        boxs.forEach((item, index) => {
          if (index == idx) item.style.display = "block";
          else item.style.display = "none";
        });
        if (isRequest == "true") return false;
        $.ajax({
          url: "http://localhost/api/indexNews",
          dataType: "json",
          timeout: 5000,
          data: JSON.stringify({
            categoryId: arguments[0].id,
          }),
          headers: {
            "Content-Type": "application/json; charset=urf-8",
            token: "aaa",
          },
          type: "POST",
          beforeSend: function () {},
          success: function (req) {
            let boxHtml = "";
            req.data.forEach((item) => {
              let date = item.time.split(" ")[0];
              boxHtml += `
              <div class="col-item-3">
                <div class="item">
                  <div class="img-cover" style="background-image:url(${item.imgUrl}">
                    <img src="images/blank/indexNews.png" alt="${item.title}" width="100%">
                  </div>
                  <div class="figure-content padding-top-24">
                    <h4 class="title">${item.title}</h4>
                    <time datetime="${item.time}" pubtime="${date}">${date}</time>
                    <i class="line"></i>
                    <p class="dec">${item.dec}</p>
                    <a href="" class="link-more">查看更多<i class="iconfont icon-jiantou1"></i></a>
                  </div>
                </div>
              </div>
            `;
            });
            boxs[idx].innerHTML = boxHtml;
            _this.setAttribute("data-request", "true");
          },
          complete: function () {},
          error: function () {},
        });
      }
    </script>
  </body>
</html>
